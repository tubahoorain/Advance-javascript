<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <!-- <h1>JavaScript Functions</h1>
<h2>setInterval() with a Callback</h2>

<p>Using setInterval() to display the time every second (1000 milliseconds).</p>

<h1 id="demo"></h1> -->

    <script>

        //example of synchronous programming
        // let a = prompt("What is your name : ");
        // let b = prompt("what is your age : ");
        // let c = prompt("What is your favourite color : ");
        // console.log(a + " is " + b + " Years old Â " + c + " favourite color.");

        //example of Asynchronous programming

        //   function hello(){
        //     console.log("Hello Everyone");
        //   }
        //   setTimeout(hello , 2000);



        // setTimeout(() => {
        //     console.log("Hello Everyone");
        // }, 2000);



        // alert("hello everyone!");

        //     setTimeout(function(){
        //         alert("I am inside setTimeout")
        //     },2000  //200milisecond
        // )



        // document.write("hello world");
        // setTimeout(function(){
        //     alert("I am inside settimeout")
        // },5000)



        // document.write("hello world");
        // let a =  setTimeout(function(){
        //     alert("I am inside settimeout")
        // },5000)
        // console.log(a);



        // document.write("hello world");
        // let a =  setTimeout(function(){
        //     alert("I am inside settimeout")
        // },5000);
        // clearTimeout(a);
        // console.log(a);



        // document.write("hello world");
        // let a = setTimeout(function () {
        //     alert("I am inside settimeout")
        // }, 5000);
        // let b = prompt("Do you want to run the setTimeout?");
        // if (b == "no") {
        //     clearTimeout(a);
        // }
        // console.log(a);



        //     let getSum = (a,b) => {
        //         console.log("Yes i am running " +(a+b))
        //    a+b
        // }
        //  setTimeout(getSum , 2000 , 3 , 8)
        // setInterval(getSum , 2000 , 3 , 8)



        //    callback example
        //     function sum(a, b) {
        //         console.log(a + b);

        //     }
        //     function calculator(a, b, sumCallback) {
        //         sumCallback(a, b);
        //     }
        //     calculator(3, 5, sum);






        // setInterval(myFunction, 1000);

        // function myFunction() {
        //     let d = new Date();
        //     document.getElementById("demo").innerHTML =
        //         d.getHours() + ":" +
        //         d.getMinutes() + ":" +
        //         d.getSeconds();
        // }



        //  create database to access data 
        // function getData(dataId) {
        //     console.log("data", dataId);
        // }
        // console.log(getData());
        // console.log(getData(234));




        //  create database to access data (take 2s to find data from database)
        // function getData(dataId) {
        //     setTimeout(() => {
        //         console.log("data", dataId);
        //     }, 2000)
        // }
        // getData(1);
        // getData(2);
        // getData(3);



        //  database and callback
        // function getData(dataId, getNextData) {
        //     setTimeout(() => {
        //         console.log("data", dataId);
        //         if (getNextData) {
        //             getNextData();
        //         }

        //     }, 2000)
        // }
        // getData(1, () => {
        //     getData(2, () => {
        //         getData(3);
        //     });
        // });





        // function getData(dataId, getNextData) {
        //     setTimeout(() => {
        //         console.log("data", dataId);
        //         if (getNextData) {
        //             getNextData();
        //         }

        //     }, 2000)
        // }
        //this is callback hell (nested callback)
        // getData(1, () => {
        //     console.log("getting data 2......");
        //     getData(2, () => {
        //         console.log("getting data 3......");
        //         getData(3, () => {
        //             console.log("getting data 4......");
        //             getData(4);
        //         });
        //     });
        // });





        // Promises example
        // let promise = new Promise((resolve, reject) => {
        //     console.log("I am a promise");
        // });
        // console.log(promise);





        // let promise = new Promise((resolve, reject) => {
        //     console.log("I am a promise");
        //     resolve("success");
        // });
        // console.log(promise);




        //  let promise = new Promise((resolve, reject) => {
        //     console.log("I am a promise");
        //     reject("some error occured");
        // });
        // console.log(promise);




        //immediately return promise then return data

        //   function getData(dataId, getNextData) {
        //             return new Promise((resolve,reject) =>{
        //                 setTimeout(() => {
        //                 console.log("data", dataId);
        //                 resolve("Success!")
        //                 if (getNextData) {
        //                     getNextData();
        //                 }

        //             }, 5000)

        //             })
        //         }
        //         let result = getData(123);
        //         console.log(result);  
        //         print result again to show promise success.





        // function getData(dataId, getNextData) {
        //             return new Promise((resolve,reject) =>{
        //                 setTimeout(() => {
        //                 reject("error occured!")
        //                 if (getNextData) {
        //                     getNextData();
        //                 }

        //             }, 5000)

        //             })
        //         }
        //         let promise = getData(786);
        //         console.log(promise);





        // const getPromise = () =>{
        //    return new Promise((resolve, reject) => {
        //             console.log("I am a promise");
        //             resolve("success");
        //         });
        // };
        // let promise = getPromise();
        // promise.then(() =>{
        //     console.log("Promise Fullfilled!")
        // })






        // const getPromise = () =>{
        //    return new Promise((resolve, reject) => {
        //             console.log("I am a promise");
        //             reject("error");
        //         });
        // };
        // let promise = getPromise();
        // promise.then(() =>{
        //     console.log("Promise Fullfilled!")
        // });
        // //to catch error use catch
        // promise.catch(() =>{
        //     console.log("Rejected!")
        // });





        //automated parameter res and err
        // const getPromise = () =>{
        //    return new Promise((resolve, reject) => {
        //             console.log("I am a promise");
        //              reject("Network error ðŸš­")
        //         });
        // };
        // let promise = getPromise();
        // promise.then((res) =>{
        //     console.log("Promise Fullfilled!",res)
        // });
        //to catch error use catch
        // promise.catch((err) =>{
        //     console.log("Rejected!",err)
        // });



        // function asyncFunc(){
        //     return new Promise((resolve,reject) =>{
        //         setTimeout(() =>{
        //             console.log("data1");
        //             resolve("success");
        //         },4000);
        //     });
        // };

        // console.log("Fetching data1.....");
        // let p1 = asyncFunc();
        // p1.then((res) => {
        // console.log(res);
        // });




        // function asyncFunc(){
        //     return new Promise((resolve,reject) =>{
        //         setTimeout(() =>{
        //             console.log("data1");
        //             resolve("success");
        //         },4000);
        //     });
        // };
        // function asyncFunc1(){
        //     return new Promise((resolve,reject) =>{
        //         setTimeout(() =>{
        //             console.log("data2");
        //             resolve("success");
        //         },4000);
        //     });
        // };

        // console.log("Fetching data1.....");
        // let p1 = asyncFunc();
        // p1.then((res) => {
        // console.log(res);
        // });
        // console.log("Fetching data1.....");
        // let p2 = asyncFunc1();
        // p2.then((res) => {
        // console.log(res);
        // });









        // function asyncFunc(){
        //     return new Promise((resolve,reject) =>{
        //         setTimeout(() =>{
        //             console.log("data1");
        //             resolve("success");
        //         },4000);
        //     });
        // };
        // function asyncFunc1(){
        //     return new Promise((resolve,reject) =>{
        //         setTimeout(() =>{
        //             console.log("data2");
        //             resolve("success");
        //         },4000);
        //     });
        // };

        // console.log("Fetching data1.....");
        // let p1 = asyncFunc();
        // p1.then((res) => {
        // console.log(res);
        // console.log("Fetching data1.....");
        // let p2 = asyncFunc1();
        // p2.then((res) => {
        // console.log(res);
        // });
        // });






        //promise chaining (then inside then)
        // function asyncFunc(){
        //     return new Promise((resolve,reject) =>{
        //         setTimeout(() =>{
        //             console.log("data1");
        //             resolve("success");
        //         },4000);
        //     });
        // };
        // function asyncFunc1(){
        //     return new Promise((resolve,reject) =>{
        //         setTimeout(() =>{
        //             console.log("data2");
        //             resolve("success");
        //         },4000);
        //     });
        // };

        // console.log("Fetching data1.....");
        // asyncFunc().then((res) => {
        // console.log(res);
        // console.log("Fetching data1.....");
        // asyncFunc1().then((res) => {
        // console.log(res);
        // });
        // });




        //replace callback function using promises
        // function getData(dataId) {
        //             return new Promise((resolve,reject) =>{
        //                 setTimeout(() => {
        //                 console.log("data",dataId);
        //                 resolve("success")


        //             }, 5000)

        //             })
        //         };
        // getData(1).then((res) => {
        // console.log(res);
        // getData(2).then((res) => {
        // console.log(res);
        // });
        // });





        function getData(dataId) {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    console.log("data", dataId);
                    resolve("success")


                }, 3000)

            })
        };
        //Actualpromise chain       
        getData(1).then((res) => {
            return getData(2);
        }).then((res) =>{
            console.log(res)
        })

    </script>
</body>

</html>
